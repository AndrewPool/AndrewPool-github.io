
<!DOCTYPE html>
<html>
    <head>
        <script>
            //change on the drop down
            function drpJSON() {
//i hope it's ok that i copy pasted this.
//this is needed to access other files?
                var data_file = "FriendsAndFamily.json";
                var http_request = new XMLHttpRequest();
                try {
                    // Opera 8.0+, Firefox, Chrome, Safari
                    http_request = new XMLHttpRequest();

                } catch (e) {
                    // Internet Explorer Browsers
                    try {
                        http_request = new ActiveXObject("Msxml2.XMLHTTP");
                    } catch (e) {
                        try {
                            http_request = new ActiveXObject("Microsoft.XMLHTTP");
                        } catch (e) {
                            // Something went wrong
                            alert("Your browser broke!");
                            return false;
                        }
                    }
                }
                //TODO
                http_request.onreadystatechange = function () {
                    if (http_request.readyState == 4) {
                        // Javascript function JSON.parse to parse JSON data
                        var jsonObj = JSON.parse(http_request.responseText);

                        // jsonObj variable now contains the data structure and can
                        // be accessed as jsonObj.name and jsonObj.country.
                        var First = "";
                        var Last = "";
                        var Relation = "";

                        var selectedIndex = document.getElementById("PetSel").value - 1;
                        if(selectedIndex > 0 && selectedIndex < jsonObj.pets.length){
                            var pet = jsonObj.pets[selectedIndex];
                            First = pet.name;
                            Last = pet.lname;
                        }

                        document.getElementById("First Name").innerHTML = First;
                        document.getElementById("Last Name").innerHTML = Last;
                    }
                }
                http_request.open("GET", data_file, true);
                http_request.send();
            }
            //for the write in element yep, did't copy paste this at all
            function wrtJSON() {

                var data_file = "FriendsAndFamily.json";
                var http_request = new XMLHttpRequest();

                try {
                    // Opera 8.0+, Firefox, Chrome, Safari
                    http_request = new XMLHttpRequest();

                } catch (e) {
                    // Internet Explorer Browsers
                    try {
                        http_request = new ActiveXObject("Msxml2.XMLHTTP");
                    } catch (e) {
                        try {
                            http_request = new ActiveXObject("Microsoft.XMLHTTP");
                        } catch (e) {
                            // Something went wrong
                            alert("Your browser broke!");
                            return false;
                        }
                    }
                }
                ///TODO
                http_request.onreadystatechange = function () {
                    if (http_request.readyState == 4) {
                        // Javascript function JSON.parse to parse JSON data
                        var jsonObj = JSON.parse(http_request.responseText);


                    }
                }
                http_request.open("GET", data_file, true);
                http_request.send();
            }
        </script>
        <title>Friends and Family</title>
    </head>
    <body>
        <h1>Fluffies, Fuzzies, Fur Buddies, and a Fish</h1>
        <div >Select a pet:
            <select id='PetSel' onchange ="drpJSON()">

            </select>
            Or Enter a Relation: <input type="text" name="Relation" id="Relation" onkeyup ="wrtJSON()">
<!--this is gratouatous-->
            <input type="button" onclick="wrtJSON()" value="Pick">
        </div>
        <br>
        <table>
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
            </tr>
            <tr>
                <td><div id="First Name">None Selected</div></td>
                <td><div id="Last Name">None Selected</div></td>
            </tr>
            <tr>
                <td><div id="petlist">some pets</div></td>
                <td></td>
            </tr>
        </table>

        <script>
            var data_file = "FriendsAndFamily.json";
            var http_request = new XMLHttpRequest();

            try {
                // Opera 8.0+, Firefox, Chrome, Safari
                http_request = new XMLHttpRequest();

            } catch (e) {
                // Internet Explorer Browsers
                try {
                    http_request = new ActiveXObject("Msxml2.XMLHTTP");
                } catch (e) {
                    try {
                        http_request = new ActiveXObject("Microsoft.XMLHTTP");
                    } catch (e) {
                        // Something went wrong
                        alert("Your browser broke!");
                    }
                }
            }
            http_request.onreadystatechange = function () {
                if (http_request.readyState == 4) {
                    // Javascript function JSON.parse to parse JSON data
                    var jsonObj = JSON.parse(http_request.responseText);
                    var text = "<option value='0'>--</option>";
                    for (var i = 1; i < jsonObj.pets.length + 1; i++) {
                       text = text + "<option value = '" + i + "'>" + jsonObj.pets[i].name + " " + jsonObj.pets.[i].lname + "</option>";
                    }
                    document.getElementById("PetSel").innerHTML = text;
                }
            }
            http_request.open("GET", data_file, true);
            http_request.send();
        </script>
    </body>
</html>
